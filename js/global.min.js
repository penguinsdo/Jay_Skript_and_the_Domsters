function addLoadEvent(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a}else{window.onload=function(){b();a}}}function insertAfter(c,a){var b=a.parentNode;if(b.lastChild==a){b.appendChild(c)}else{b.insertBefore(c,a.nextSibling)}}function addClass(a,b){if(!a.className){a.className=b}else{newClassName=a.className;newClassName+=" ";newClassName+=b;a.className=newClassName}}function hightlightPage(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}var f=document.getElementsByTagName("header");if(f.length==0){return false}var e=f[0].getElementsByTagName("nav");if(e.length==0){return false}var a=e[0].getElementsByTagName("a");var c;for(var b=0;b<a.length;b++){c=a[b].getAttribute("href");if(window.location.href.indexOf(c)!=-1){addClass(a[b],"here");var d=a[b].lastChild.nodeValue.toLowerCase();document.body.setAttribute("id",d)}}}addLoadEvent(hightlightPage());function moveElement(h,i,g,c){if(!document.getElementById){return false}if(!document.getElementById(h)){return false}var d=document.getElementById(h);if(d.movement){clearTimeout(d.movement)}if(!d.style.left){d.style.left="0px"}if(!d.style.top){d.style.top="0px"}var e=parseInt(d.style.left);var b=parseInt(d.style.top);var f=0;if(e==i&&b==g){return true}if(e<i){f=Math.ceil((i-e)/10);e=e+f}if(e>i){f=Math.floor((i-e)/10);e=e+f}if(b<g){f=Math.ceil((b-g)/10);b=b+f}if(b>g){f=Math.floor((b-g)/10);b=b+f}d.style.left=e+"px";d.style.top=b+"px";var a='moveElement("'+h+'",'+i+","+g+","+c+")";d.movement=setTimeout(a,c)}function prepareSlideshow(){if(!document.getElementById){return false}if(!document.getElementsByTagName){return false}if(!document.getElementById("intro")){return false}var e=document.getElementById("intro");var d=document.createElement("div");var g=document.createElement("img");g.setAttribute("src","img/frame.gif");g.setAttribute("alt"," ");g.setAttribute("id","frame");d.appendChild(g);d.setAttribute("id","slideshow");var f=document.createElement("img");f.setAttribute("src","img/slideshow.gif");f.setAttribute("alt","a glimpse of what awaits you");f.setAttribute("id","preview");d.appendChild(f);insertAfter(d,e);var b=document.getElementsByTagName("a");var a;for(var c=0;c<b.length;c++){b[c].onmouseover=function(){a=this.getAttribute("href");if(a.indexOf("index.html")!=-1){moveElement("preview",0,0,5)}if(a.indexOf("about.html")!=-1){moveElement("preview",-150,0,5)}if(a.indexOf("photos.html")!=-1){moveElement("preview",-300,0,5)}if(a.indexOf("live.html")!=-1){moveElement("preview",-450,0,5)}if(a.indexOf("contact.html")!=-1){moveElement("preview",-600,0,5)}}}}addLoadEvent(prepareSlideshow());function showSection(c){var b=document.getElementsByTagName("section");for(var a=0;a<b.length;a++){if(b[a].getAttribute("id")!=c){b[a].style.display="none"}else{b[a].style.display="block"}}}function prepareInternalnav(){if(!document.getElementById){return false}if(!document.getElementsByTagName){return false}var c=document.getElementsByTagName("article");if(c.length==0){return false}var e=c[0].getElementsByTagName("nav");if(e.length==0){return false}var f=e[0];var a=f.getElementsByTagName("a");for(var b=0;b<a.length;b++){var d=a[b].getAttribute("href").split("#")[1];if(!document.getElementById(d)){continue}document.getElementById(d).style.display="none";a[b].destination=d;a[b].onclick=function(){showSection(this.destination);return false}}}addLoadEvent(prepareInternalnav());function showPic(e){if(!document.getElementById("placeholder")){return true}var b=e.getAttribute("href");var d=document.getElementById("placeholder");d.setAttribute("src",b);if(!document.getElementById("description")){return false}var a=document.getElementById("description");if(e.getAttribute("title")){var c=e.getAttribute("title")}else{var c=" "}if(a.firstChild.nodeType==3){a.firstChild.nodeValue=c;return false}}function preparePlaceholder(){if(!document.getElementById){return false}if(!document.createElement){return false}if(!document.createTextNode){return false}if(!document.getElementById("imagegallery")){return false}var d=document.createElement("img");d.setAttribute("id","placeholder");d.setAttribute("src","img/placeholder.gif");d.setAttribute("alt","Choose an image");var b=document.createElement("p");b.setAttribute("id","description");var c=document.createTextNode("Choose an image");b.appendChild(c);var a=document.getElementById("imagegallery");insertAfter(b,a);insertAfter(d,b)}function prepareGallery(){if(!document.getElementById){return false}if(!document.getElementsByTagName){return false}if(!document.getElementById("imagegallery")){return false}var a=document.getElementById("imagegallery");var b=a.getElementsByTagName("a");for(var c=0;c<b.length;c++){b[c].onclick=function(){return showPic(this)}}}addLoadEvent(preparePlaceholder());addLoadEvent(prepareGallery());function stripeTables(){if(!document.getElementsByTagName){return false}var c=document.getElementsByTagName("table");for(var b=0;b<c.length;b++){var e=c[b].getElementsByTagName("tr");
var d=false;for(var a=0;a<e.length;a++){if(d==true){addClass(e[a],"odd");d=false}else{d=true}}}}addLoadEvent(stripeTables());function highlightRows(){if(!document.getElementsByTagName){return false}var b=document.getElementsByTagName("tr");for(var a=0;a<b.length;a++){b[a].oldClassName=b[a].className;b[a].onmouseover=function(){addClass(this,"highlight")};b[a].onmouseout=function(){this.className=this.oldClassName}}}addLoadEvent(highlightRows());function displayAbbreviations(){if(!document.getElementsByTagName){return false}if(!document.createElement){return false}if(!document.createTextNode){return false}var f=document.getElementsByTagName("abbr");if(f.length<1){return false}var d=new Array();for(var g=0;g<f.length;g++){var p=f[g];if(p.childNodes.length<1){continue}var c=p.getAttribute("title");var n=p.lastChild.nodeValue;d[n]=c}var o=document.createElement("dl");for(n in d){var c=d[n];var k=document.createElement("dt");var m=document.createTextNode(n);k.appendChild(m);var l=document.createElement("dd");var b=document.createTextNode(c);l.appendChild(b);o.appendChild(k);o.appendChild(l)}if(o.childNodes.length<1){return false}var j=document.createElement("h3");var h=document.createTextNode("Abbreviations");j.appendChild(h);var e=document.getElementsByTagName("article");if(e.length<1){return false}var a=e[0];a.appendChild(j);a.appendChild(o)}addLoadEvent(displayAbbreviations());function focusLabels(){if(!document.getElementsByTagName){return false}var b=document.getElementsByTagName("label");for(var a=0;a<b.length;a++){if(!b[a].getAttribute("for")){continue}b[a].onclick=function(){var d=this.getAttribute("for");if(!document.getElementById(d)){return false}var c=document.getElementById(d);c.focus()}}}addLoadEvent(focusLabels());function resetFields(d){if(Modernizr.input.placeholder){return}for(var c=0;c<d.elements.length;c++){var b=d.elements[c];if(b.type=="submit"){continue}var a=b.placeholder||b.getAttribute("placeholder");if(!a){continue}b.onfocus=function(){var e=this.placeholder||this.getAttribute("placeholder");if(this.value==e){this.className="";this.value=""}};b.onblur=function(){var e=this.placeholder||this.getAttribute("placeholder");if(this.value==""){this.className="placeholder";this.value=e}};b.onblur()}}function isFilled(a){if(a.value.replace(" ","").length==0){return false}var b=a.placeholder||a.getAttribute("placeholder");return(a.value!=b)}function isEmail(a){return(a.value.indexOf("@")!=-1&&a.value.indexOf(".")!=-1)}function validateForm(c){var d=c.elements;for(var b=0;b<d.length;b++){var a=d[b];if(a.required||a.getAttribute("required")){if(!isFilled(a)){alert("Please fill in the "+a.name+" field.");return false}}if(a.type=="email"||a.getAttribute("type")=="email"){if(!isEmail(a)){alert("The "+a.name+" field must b a valid email address.");return false}}}return true}function getHTTPObject(){if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveOAbject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return false}}return new XMLHttpRequest()}function displayAjaxLoading(a){while(a.hasChildNodes()){a.removeChild(a.lastChild)}var b=document.createElement("img");b.setAttribute("src","img/loading.gif");b.setAttribute("alt","loading...");a.appendChild(b)}function submitFormWithAjax(e,a){var d=getHTTPObject();if(!d){return false}displayAjaxLoading(a);var g=[];var c;for(var b=0;b<e.elements.length;b++){c=e.elements[b];g[b]=c.name+"="+encodeURIComponent(c.value)}var f=g.join("&");d.open("POST",e.getAttribute("action"),true);d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.onreadystatechange=function(){if(d.readyState==4){console.log(d);console.log(d.status);if(d.status==200||d.status==0){var h=d.responseText.match(/<article>([\s\S]+)<\/article>/);if(h.length>0){a.innerHTML=h[1]}else{a.innerHTML="<p>Oops, there was an erroe. Sorry.</p>"}}else{a.innerHTML="<p>"+d.statusText+"</p>"}}};d.send(f);return true}function prepareForms(){for(var b=0;b<document.forms.length;b++){var a=document.forms[b];resetFields(a);a.onsubmit=function(){if(!validateForm(this)){return false}var c=document.getElementsByTagName("article")[0];if(submitFormWithAjax(this,c)){return false}return true}}}addLoadEvent(prepareForms());